import{S as N}from"./SearchInput-UJUWlM4_.js";import{d as _,u as S,r as b,c as p,o,a as c,n as k,i as v,b as r,t as m,_ as f,e as x,f as U,g as $,h,j as C,k as R,F as B,l as F,m as I}from"./index-bblLmLrl.js";import"./el-input-BSi6smHO.js";const M={class:"inner_item"},w={class:"item_img"},L=["src"],P={class:"item_content"},V=_({__name:"ResultCard",props:{id:Number,imgUrl:String,price:Number,intro:String,refractivity:Number},setup(l){const s=S();let i=()=>{s.push("/product/".concat(l.id))},t=b("");return(u,e)=>(o(),p("div",{class:k(["item",c(t)]),onMouseenter:e[0]||(e[0]=n=>v(t)?t.value="item_activate":t="item_activate"),onMouseleave:e[1]||(e[1]=n=>v(t)?t.value="":t=""),onClick:e[2]||(e[2]=(...n)=>c(i)&&c(i)(...n))},[r("div",M,[r("div",w,[r("img",{src:l.imgUrl,alt:""},null,8,L)]),r("div",P,[r("h1",null,"¥"+m(l.price?l.price.toFixed(2):0),1),r("p",null,m(l.intro),1),r("p",null,"折射率："+m(l.refractivity),1)])])],34))}}),j=f(V,[["__scopeId","data-v-a0317fb1"]]),z={class:"main"},D={class:"search-result"},E=_({__name:"Search",setup(l){let s=b([]);const i=U();return x(()=>{let{myopia:t,brand:u}=i.params,e=i.params.price,[n,g]=e.split("-"),y=[{label:null,value:0},{label:"蔡司",value:1},{label:"尼康",value:2},{label:"豪雅",value:3},{label:"依视路",value:4},{label:"明月",value:5},{label:"万新",value:6},{label:"康耐特",value:7}],d=a=>a==0?null:a;$({method:"get",url:"http://115.190.17.179:8080/search",params:{myopia:d(Number(t)),lowprice:d(n),highprice:d(g),brand:y[Number(u)].label}}).then(a=>{console.log(a),s.value=a.data}).catch(a=>{console.log(a)}),h.on("search",a=>{console.log(a),s.value=a})}),C(()=>{h.off("search")}),(t,u)=>(o(),p("div",z,[R(N),r("div",D,[(o(!0),p(B,null,F(c(s),e=>(o(),I(j,{id:e.id,imgUrl:e.imgUrl,price:e.price,intro:e.brand+e.name,refractivity:e.refractivity},null,8,["id","imgUrl","price","intro","refractivity"]))),256))])]))}}),G=f(E,[["__scopeId","data-v-6e6287d0"]]);export{G as default};
